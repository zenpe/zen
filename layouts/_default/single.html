{{ define "main" }}
  {{ with .Params.featured_image }}
    <div class="post-featured-image">
      {{ $image := resources.Get . }}
      {{ if $image }}
        {{ $tiny := $image.Resize "200x webp" }}
        {{ $small := $image.Resize "480x webp" }}
        {{ $medium := $image.Resize "800x webp" }}
        {{ $large := $image.Resize "1200x webp" }}
        <img
          src="{{ $medium.RelPermalink }}"
          srcset="{{ $tiny.RelPermalink }} 200w, {{ $small.RelPermalink }} 480w, {{ $medium.RelPermalink }} 800w, {{ $large.RelPermalink }} 1200w"
          sizes="(max-width: 600px) 480px, 800px"
          alt="{{ $.Title }}"
        />
      {{ else }}
        <img src="{{ . | absURL }}" alt="{{ $.Title }}" />
      {{ end }}
    </div>
  {{ end }}
  <div class="post-detail-card">
    <h1 class="post-detail-title">{{ .Title }}</h1>
    <div class="post-detail-meta">
      <span>🗓️ {{ .Date.Format "2006-01-02" }}</span>
      {{ with .Params.categories }} | <span>📁 {{ delimit . ", " }}</span>{{ end }}
      {{ with .Params.author }} | <span>✍️ {{ . }}</span>{{ end }}
      | <span>👁️ <span id="busuanzi_value_page_pv">-</span> {{ T "pageViewCount" }}</span>
    </div>
    <div class="post-detail-content">
      {{ .Content }}
    </div>
    <div class="post-detail-tags">
      {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
    </div>
  </div>
{{ end }}